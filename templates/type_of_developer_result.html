<!DOCTYPE html>
<meta charset="utf-8">
<head>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
</head>
<body>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

  <script>
    function generate_p(data){
      for(let i = 0; data.length; i++){
        $("#programming-langs").append("<p>" + data[i][0] + " " + data[i][1] + "</p>");
      }
    }
  </script>

  <div class="container">
    <div class="row">
      <div class="col">
        <img src="{{developer_basic_details["avatar_url"]}}" class="img-fluid rounded" alt="Responsive image">
      </div>

      <div class="col">
        <p class="fw-bold">{{developer_basic_details["name"]}}</p>
        <p class="fw-bold">{{developer_basic_details["bio"]}}</p>
        <p class="fw-bold">{{developer_basic_details["company"]}}</p>
        <p class="fw-bold">{{developer_basic_details["email"]}}</p>
        <p class="fw-bold">{{developer_basic_details["location"]}}</p>
      </div>
      
      <div class="col">
        <p class="fw-bold"><a href="https://github.com/{{developer_basic_details["login"]}}" class="link-primary">{{developer_basic_details["login"]}}</a></p>
        <p class="fw-bold">Profile created: {{developer_basic_details["created_at"]}}</p>
        <p class="fw-bold">Profile last updated: {{developer_basic_details["updated_at"]}}</p>
        <p class="fw-bold">Open for work: {{developer_basic_details["hireable"]}}</p>
      </div>

      <div class ="col">
        <p class="fw-bold">Is following {{developer_basic_details["following"]}} users</p>
        <p class="fw-bold">Is followed by {{developer_basic_details["followers"]}} users</p>
        <p class="fw-bold">Owns {{developer_basic_details["private_repos_owned"]}} private repos</p>
        <p class="fw-bold">Is member of {{developer_basic_details["team_count"]}} teams</p>
      </div>
    </div>
    <div class="row">
      <div class="col" id="programming-langs">
        List of all programming languages
        <script type="text/javascript">
          generate_p([["Java", 1000], ["C++", 100], ["Python", 50]]);
       </script>
      </div>
      <div class="col" id="repos">
        List of all repos user worked on
        <script type="text/javascript">
          const repos = {
            "repo1": "https://github.com/SWENG-2021/VOTN-Facial-Recognition",
             "repo2": "https://github.com/cppavel/TelegramItinerary"
           };

           for (const [key, value] of Object.entries(repos)) {
             $("#repos").append("<p><a href=\"" + value +"\">" + key + "</a></p>");
           }
        </script>
      </div>
      <div class="col">
        <p>Total commit count is 100</p>
        <p>Average diffbase per commit</p>
        <p>Average time between commits</p>
      </div>
    </div>
    <div class="row">
      <div class="col">
        <canvas id="time_between_commits_dis"></canvas>
      </div>
      <div class="col">
        <canvas id="diffbase_dis"></canvas>
      </div>
    </div>

    <div class="row">
      <div class="col">
        <p>Issues created</p>
        <p>PR created</p>
        <p>Issues assigned</p>
        <p>PR assigned</p>
      </div>
      <div class="col">
        <p>Issues assigned closed</p>
        <p>PR assigned closed</p>
        <p>Average number of comments in issues created</p>
        <p>Average time to close issue</p>
        <p>Average time to close (review) PR</p>
      </div>
    </div>
    <div class="row">
      <div class="col">
        <canvas id="time_between_is_c"></canvas>
      </div>
      <div class="col">
        <canvas id="time_between_is_a"></canvas>
      </div>
    </div>
    <div class="row">
      <div class="col">
        <canvas id="time_between_pr_c"></canvas>
      </div>
      <div class="col">
        <canvas id="time_between_pr_a"></canvas>
      </div>
    </div>
  </div>



  <script>
    function create_bar_chart(id, labels, datapoints, title){
      const data = {
        labels: labels,
        datasets: [{
          label:  title,
          data: datapoints,
          backgroundColor: [
            'rgba(255, 99, 132, 0.2)',
            'rgba(255, 159, 64, 0.2)',
            'rgba(255, 205, 86, 0.2)',
            'rgba(75, 192, 192, 0.2)',
            'rgba(54, 162, 235, 0.2)',
            'rgba(153, 102, 255, 0.2)',
            'rgba(201, 203, 207, 0.2)'
          ],
          borderColor: [
            'rgb(255, 99, 132)',
            'rgb(255, 159, 64)',
            'rgb(255, 205, 86)',
            'rgb(75, 192, 192)',
            'rgb(54, 162, 235)',
            'rgb(153, 102, 255)',
            'rgb(201, 203, 207)'
          ],
          borderWidth: 1
        }]
      };


      const config = {
          type: 'bar',
          data: data,
          options: {
            scales: {
              y: {
                beginAtZero: true
              }
            }
          },
      };
      
      const myChart = new Chart(
        document.getElementById(id),
        config
      );
    }
      
  </script>


<script>
  
   create_bar_chart("time_between_commits_dis", [1,2,3,4,5,6,7], [1,2,3,4,5,6,7], "Time between commits");
   create_bar_chart("diffbase_dis", [1,2,3,4,5,6,7], [1,2,3,4,5,6,7], "Diffbase per commit");
   create_bar_chart("time_between_is_c", [1,2,3,4,5,6,7], [1,2,3,4,5,6,7], "Time between issues created");
   create_bar_chart("time_between_is_a", [1,2,3,4,5,6,7], [1,2,3,4,5,6,7], "Time between issues assigned");
   create_bar_chart("time_between_pr_c", [1,2,3,4,5,6,7], [1,2,3,4,5,6,7], "Time between PR created");
   create_bar_chart("time_between_pr_a", [1,2,3,4,5,6,7], [1,2,3,4,5,6,7], "Time between PR assigned");
</script>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
</body>
